!function(e){function o(){e("video").hide(),setTimeout(t,10)}function t(){e("video").show()}function r(o,t){e.cookie("codeplaygrounddiscoverymodalskip","1",{expires:365,path:"/"});var r="/code/"+C+"/environment/?courseId="+w+(o?"&videoId="+o:"")+(t?"&src=ToC":"&src=TopBtn")+(t?"":"&default=1");return D&&!D.closed?(D.focus(),D.location=r,!1):(D=window.open(r,"","scrollbars=no, menubar=no, status=no, titlebar=no, toolbar=no, location=no, resizable=yes, width=940, height=593"),!1)}function i(){return e(".video-actions-cont").length>0&&e(".video-actions-cont").length==e(".video-actions-cont .eye").length?!0:!1}function n(){if(!i()){var o=e("#focused-learning-leave").text();return o}}function a(){i()&&e("#focused-learning-complete").modal("show")}function s(){var o=e("html").hasClass("member"),t=o?50:0,r=b.height()-t;A.height(r)}function c(o){var t=e(o).parent(),r=e(o).height(),i=e(t).height(),n=e(t).find(".show-all");r>i&&e(n).show()}function l(o){var t=e(o).parent(),r=e(t).find(".show-all");e(t).removeClass("expanded"),e(r).hide()}function d(e,o,t){t||history.pushState&&history.pushState(e,e.id,o)}function p(o){e(".toc-items li").removeClass("current");var t=f.triggerHandler("get.toc.elm",[o]);switch(t.addClass("current"),o.type){case"video":t.find(".video-actions-cont i.watch-trigger").addClass("eye"),e(".toc-items .video-transcripts").remove();var r=e(".toc-items .transcript-toggle"),i=r.clone();r.remove(),i.insertAfter(t.find(".video-duration")),e.get("/ajax/course/videotranscripts?courseId="+ +w+"&videoId="+ +o.id).done(function(o){if(o.html&&o.html.length>0){var r=e("<div />").append(o.html).find(".video-transcripts").html().trim().length;if(0===r)return;t.find(".video-transcript-cont").append(o.html),!y&&window.innerWidth<1024&&t.find(".video-transcript-cont").addClass("hide")}});break;case"assessment":}}function u(o){z=o,j.trigger("autoscroll."+(o?"disable":"enable")),o?(e(".transcript-show").removeClass("hide"),e(".transcript-hide").addClass("hide")):(e(".transcript-show").addClass("hide"),e(".transcript-hide").removeClass("hide"))}function v(){j.trigger("autoscroll.enable"),V.hide(),e("#search-results-area").hide(),e("#search-course").val("")}function h(o){if(isNaN(o))return!1;var t="#tour-content-"+o,r=e(t),i=r.find(".img-url").data("imgurl"),n="close-"+o,a=e(".tour-pagination .pagination-item").eq(o-1);e(".course-modal-tour .tour-content-container").html(r.html()),e(".course-modal-tour .tour-image").removeAttr("src").attr("src",i),e(".tour-pagination .pagination-item").removeClass("selected"),a.addClass("selected"),e(".close-tour").data("ga-value",n)}function g(o){var t=e("#btn-search-course");t.addClass("autocomplete-loading"),e("body").trigger("ga.event",{action:"search",label:"toc-search"}),e.get("/ajax/course/"+ +w+"/search?searchTerm="+o).done(function(o){t.removeClass("autocomplete-loading"),j.trigger("autoscroll.disable"),e("#search-results-area").html(o.html).show(),V.show()})}var m=e("html"),f=e("body"),b=e(window),y=m.hasClass("no-touch"),k=e("#course-page"),w=+k.data("courseId"),C=k.data("environmentId"),x=e("#video-container"),I=e("#courseplayer video.player"),j=e(".course-toc"),T=e("#toc-content"),A=(e(".toc-item-settings"),e("#sidebar")),E=(e("#search-results-area"),e("#search-course")),N=e("#btn-search-course"),V=e("#course-search .clear-search"),W=!1,z=(e(".title-banner"),e("#eyebrow").height()+parseInt(e(".title-banner").height()-15),e(".course-actions button"),!0);m.hasClass("retiring")&&e("#course-retiring-modal").modal(),lynda&&lynda.FocusedLearning&&(f.addClass("focused-learning"),b.bind("beforeunload",n),f.on("course.ended",a)),f.on("course.video.change",function(e,o,t,r){var i={id:t,type:"video"},n=f.triggerHandler("get.toc.elm",[i]),a=n.find("a").attr("href");d(i,a,r),p(i)}),k.hasClass("course-popout")&&f.css({paddingTop:0}),e("#banner-thumbnail").click(function(){e(this).hide(),e("#courseplayer").removeClass("hide"),I.trigger("playVideoId",[e(this).data("initVideoId"),0]),e(window).trigger("resize")}),j.on("autoscroll.min autoscroll.mid",function(e){j.removeClass("max-scroll")}),j.on("autoscroll.max",function(e){j.addClass("max-scroll")}),f.on("course.video.timeupdate",function(e,o,t){f.trigger("transcript.timeupdate",[".toc-items .transcripts.video-transcripts",parseFloat(o.currentTarget.currentTime)])}),f.on("transcript.current.change",function(o,t){e(t).is(":hidden")||j.trigger("autoscroll.update",[t])}),f.on("transcript.select",function(o,t){I.trigger("updatetime",[t]),e("#banner-thumbnail").hide(),f.trigger("toggle.player.container",["video-container"]),e("#courseplayer").removeClass("hide")}),f.on("note.play",function(e,o,t){f.trigger("toggle.player.container",["video-container"]),I.trigger("playVideoId",[o,t])}),e(".transcript-toggle-cont i").popover({html:!0,animation:!1,container:"body",placement:"bottom",template:"<div class='popover dark-pop toc-settings'><div class='arrow'></div><div class='popover-content'></div></div>",content:function(){return e("#transcript-settings").clone().html()}}).on("shown.bs.popover",function(){f.trigger("ga.event",{action:"click",label:"transcript-settings-open"})}),y?f.on("click","#btn-keyboard-shortcuts, .tour-shortcuts, .tour-question",function(){window.open("/courses/shortcuts","Shortcuts","height=560, width=960")}):(e("#btn-more").remove(),e("#btn-downloads").remove());var B=!1;e(".tour-auto-start").length&&(B=!0),e("#course-modal-tour").modal({show:B}),h(1),e("#course-modal-tour").on("hidden.bs.modal",function(o){e.post("/ajax/course/tour-complete")}),e(document).keydown(function(o){9==o.keyCode&&e("body").addClass("keyboard-focus")}),f.on("mousedown",function(){e("body").removeClass("keyboard-focus")}),f.on("click","#btn-take-tour",function(o){e("#btn-more").popover("hide"),h(1),e("#course-modal-tour").modal("show")}),f.on("click",".tour-pagination .pagination-item",function(o){var t=e(this).index()+1;h(t)}),f.on("click",".course-tour-next",function(o){var t=e(this).attr("data-step"),r=parseInt(t)+1;h(r)}),f.on("toggle.player.container",function(o,t){var r=e(".player-content"),i=e("#"+t);i.hasClass("hide")&&(r.each(function(){e(this).hasClass("hide")||e(this).addClass("hide")}),i.removeClass("hide"))}),E.on("keypress",function(o){13==o.which&&(o.preventDefault(),g(e("#search-course").val()))}),E.on("focus",function(e){f.trigger("ga.event",{action:"focus",label:"toc-search",value:w})}),N.on("click",function(o){g(e("#search-course").val()),o.preventDefault()}),f.on("click","#clear-search-text",v),V.on("click",v),f.on("click","#search-results-area .search-items .search-item .search-body .transcript",function(o){f.trigger("toggle.player.container",["video-container"]),I.trigger("playVideoId",[e(this).attr("videoId"),e(this).data("duration")])}),f.on("course.video.viewmode",function(){var o=e(".black-out");x.toggleClass("highlight-item"),o[x.hasClass("highlight-item")?"show":"hide"]()}),T.on("click",".item-name",function(o){e(this).closest("li").find(".video-watched-cont i.watch-trigger").addClass("eye")}),T.on("click",".booker",function(o){var t=e(this),r=t.hasClass("bookmarked"),i=+t.closest("li").data("videoId");if(r){var n=t.data("bookmarkId");e.ajax({url:"/ajax/bookmark/"+ +n,method:"DELETE"})}else e.post("/ajax/bookmark/video/"+ +i).done(function(e){e&&e.BookmarkId&&t.data("bookmarkId",e.BookmarkId)});t.toggleClass("bookmarked bookmark-outline")}),y&&(e(".mejs-button:not(.mejs-volume-button) button").tooltip({container:"#video-container",delay:{show:100,hide:0}}),e("#player-mute-toggle").tooltip("disable"),f.on("click",".mejs-button button",function(){e(this).tooltip("hide")})),j.find(".chapter-row").click(function(o){var t=e(this).parent().find("ul"),r=e(this).find(".chapter-caret");r.hasClass("right")?(t.show(),r.removeClass("right")):(t.hide(),r.addClass("right"))}),f.on("click",".show-all",function(o){var t=e(this).parent();e(t).toggleClass("expanded")}),f.on("click","#btn-layout",function(){I.trigger("theater.toggle")}),f.on("theater.toggle.done",function(){var o=e("#btn-layout"),t=o.find("i");t.removeClass("layout-toggle-solid layout-solid"),e("html").hasClass("theater-mode")?t.addClass("layout-solid"):t.addClass("layout-toggle-solid")}),f.popover({html:!0,animation:!1,container:".standalone-course-buttons",selector:"#btn-exercise",placement:"bottom",template:'<div class="popover dark-pop exercise-popover course-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return e(".popover").not(this).popover("hide"),"<ul>"+e("#exercise-files-popover").clone().removeClass("hide").html()+"</ul>"}}),f.popover({html:!0,animation:!1,container:".standalone-course-buttons",selector:"#btn-standalone-more",placement:"bottom",template:'<div class="popover dark-pop more-popover course-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return e(".popover").not(this).popover("hide"),"<ul>"+e("#more-popover").clone().removeClass("hide").html()+"</ul>"}}),f.popover({html:!0,animation:!1,container:".course-actions",selector:"#btn-downloads",placement:"bottom",template:'<div class="popover dark-pop downloads-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return e(".popover").not(this).popover("hide"),"<ul>"+e("#downloads").clone().removeClass("hide").html()+"</ul>"}}),f.popover({html:!0,animation:!1,container:".course-actions",selector:"#exercise-files",placement:"left",viewport:{selector:"#course-page",padding:50},template:'<div class="popover dark-pop exercise-popover course-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return e(".offline-viewing").popover("hide"),"<ul>"+e("#exercise-files-popover").clone().removeClass("hide").html()+"</ul>"}}),f.popover({html:!0,animation:!1,container:".course-actions",selector:"#btn-more",placement:"bottom",template:'<div class="popover dark-pop more-popover course-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){return e(".popover").not(this).popover("hide"),"<ul>"+e("#more-popover").clone().removeClass("hide").html()+"</ul>"}}),f.popover({html:!0,animation:!1,container:".course-actions",selector:".download-app-cta",placement:"left",template:"<div class='popover dark-pop offline-viewing'><div class='arrow'></div><div class='popover-content'></div></div>",viewport:{selector:".main-content-area","margin-top":"5px"},content:function(){var o=e(this).data("hasOfflineViewingAccess");if(o){var t=e(this).data("fallbackUrl");return f.on("deeplinking.failed",function(){window.location=t}),f.trigger("deeplinking.launch",["lynda.com://course/"+w+"/download",!1]),!1}return e(".exercise-popover").popover("hide"),e("#ov-upgrade-for-offline-viewing").clone().removeClass("hide").html()}}),e(".btn-group button").tooltip({container:".submenu-profile",delay:{show:400,hide:0}}),f.popover({html:!0,animation:!1,container:"#sidebar",selector:".eye",placement:"bottom",template:'<div class="popover dark-pop eye-popover course-popover" role="tooltip"><div class="arrow"></div><div class="popover-content"></div></div>',content:function(){j.trigger("autoscroll.disable"),e(".popover").not(this).popover("hide"),e(".eye-options").show(),e(".eye-confirm").addClass("hide");var o=e(this).closest("li").data("videoId");return'<ul data-video-id="'+o+'">'+e("#toc-eye-popover").clone().removeClass("hide").html()+"</ul>"}}),f.on("hidden.bs.popover",".eye",function(e){j.trigger("autoscroll.enable")}),f.on("click",".video-unwatched",function(o){var t=e(".eye-popover ul").data("videoId");e.post("/ajax/video/"+t+"/clear"),e('.course-toc li[data-video-id="'+t+'"] i.eye').removeClass("eye"),e(".eye-popover").popover("hide"),j.trigger("autoscroll.enable")}),f.on("click",".video-all-unwatched",function(o){e(".eye-options").hide(),e(".eye-confirm").removeClass("hide").show()}),f.on("click",".eye-confirm-cancel",function(o){e(".eye-popover").popover("hide")}),f.on("click","button.clear-course-history",function(o){var t=e("#course-page").data("courseId");e.post("/ajax/course/"+t+"/clear"),e("i.eye").removeClass("eye"),e(".eye-popover").popover("hide"),j.trigger("autoscroll.enable")}),e("ul.toc-items li.toc-video-item:not(.locked)").on("click",function(o){return e(o.target).is(".eye, .code, .video-name, .booker")||e(o.target).parents(".video-transcript-cont, .transcript-toggle").length>0?!0:void e(this).find("a").trigger("click")}),document.addEventListener("orientationchange",o);var D;e("#btn-practice-environment, .course-toc i.code").on("click",function(){var o=e(this).closest("li").data("videoId")||e(this).data("peVideoId");r(o,!e(this).hasClass("practice-environment-course"))}),window.innerWidth>1023?s():c(".course-toc"),c(".course-description"),b.on("resize",_.debounce(function(o){var t=e(".course-description");t.find(".show-all").hide(),l(t),c(t),window.innerWidth>1023?s():(A.removeAttr("style"),c(".course-toc"))},250)),I.on("play",function(){var o=e(".toc-items .current");W=!0,z||j.trigger("autoscroll.update",[o]),u(z),o.find(".video-transcript-cont")[z?"addClass":"removeClass"]("hide")}),b.on("resize",_.debounce(function(o){var t=e(".toc-items .current"),r=e(".toc-container");e(".transcript-toggle").removeClass("hide"),W&&(window.innerWidth>1023&&!z?(t.find(".video-transcript-cont").removeClass("hide"),s(),l(r)):t.find(".video-transcript-cont").addClass("hide")),!y&&window.innerWidth<1024&&(t.find(".video-transcript-cont").addClass("hide"),e(".transcript-toggle").addClass("hide"))},250)),j.on("autoscroll.enable",function(){z||e("#toc-content .autoscroll-enable").removeClass("hide")}),j.on("autoscroll.disable",function(){e("#toc-content .autoscroll-enable").addClass("hide")}),e(".autoscroll-enable").click(function(){j.trigger("autoscroll.enable")});var L=e(".toc-items .current"),S=!!I.attr("autoplay");S&&f.trigger("ga.event",{action:"auto-start",label:"player",value:w}),j.trigger("autoscroll.update",[L]),(z||!S)&&j.trigger("autoscroll.disable"),I.on("next previous",function(){z&&(j.trigger("autoscroll.enable"),j.trigger("autoscroll.update",[e(".toc-items .current")]),j.trigger("autoscroll.disable"))}),f.on("click",".transcript-toggle span",function(o){f.trigger("ga.event",{action:"click",label:"transcript-visibility-toggle",value:t?0:1});var t=e(this).hasClass("transcript-hide");u(t),e(".course-toc .video-transcript-cont")[t?"addClass":"removeClass"]("hide")});var q=78,F=67;f.bind("keydown",function(o){if(!("INPUT"===o.target.tagName||"TEXTAREA"===o.target.tagName||e(o.target).attr("contenteditable")||e(o.target).closest("form").length>0))if(o.keyCode===q){var t=e("#notes-tab");t.length&&t.click(),f.trigger("ga.event",{action:"keypress",label:"N",value:w})}else if(o.keyCode===F){var r=e("#toc-tab");r.length&&r.click(),f.trigger("ga.event",{action:"keypress",label:"C",value:w})}})}(jQuery),$(function(){$('[data-toggle="tooltip"]').tooltip()});